

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>TransD module &mdash; AugmentedKGE 2021 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="TransE module" href="TransE.html" />
    <link rel="prev" title="SimplE module" href="SimplE.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> AugmentedKGE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Amie.html">Amie module</a></li>
<li class="toctree-l2"><a class="reference internal" href="BaseModule.html">BaseModule module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ComplEx.html">ComplEx module</a></li>
<li class="toctree-l2"><a class="reference internal" href="DistMult.html">DistMult module</a></li>
<li class="toctree-l2"><a class="reference internal" href="HolE.html">HolE module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Model.html">Model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ModelUtils.html">ModelUtils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="RotatE.html">RotatE module</a></li>
<li class="toctree-l2"><a class="reference internal" href="SimplE.html">SimplE module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">TransD module</a></li>
<li class="toctree-l2"><a class="reference internal" href="TransE.html">TransE module</a></li>
<li class="toctree-l2"><a class="reference internal" href="TransH.html">TransH module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AugmentedKGE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Models</a> &raquo;</li>
        
      <li>TransD module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/TransD.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-TransD">
<span id="transd-module"></span><h1>TransD module<a class="headerlink" href="#module-TransD" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="TransD.TransD">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">TransD.</span></span><span class="sig-name descname"><span class="pre">TransD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ent_total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#TransD.TransD" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Models.Model.Model</span></code></p>
<p>TransD <span id="id1">[<a class="reference internal" href="bib.html#id4" title="Guoliang Ji, Shizhu He, Liheng Xu, Kang Liu, and Jun Zhao. Knowledge graph embedding via dynamic mapping matrix. In Proceedings of the 53rd Annual Meeting of the Association for Computational Linguistics and the 7th International Joint Conference on Natural Language Processing (Volume 1: Long Papers), 687–696. 2015.">JHX+15</a>]</span> is a translation-based embedding approach that introduces the concept that entity and relation embeddings are no longer represented in the same space. Entity embeddings are represented in space <span class="math notranslate nohighlight">\(\mathbb{R}^{k}\)</span> and relation embeddings are represented in space <span class="math notranslate nohighlight">\(\mathbb{R}^{d}\)</span> where <span class="math notranslate nohighlight">\(k \geq d\)</span>.TransD also introduces additional embeddings <span class="math notranslate nohighlight">\(\mathbf{w_{h}}, \mathbf{w_{t}} \in \mathbb{R}^{k}\)</span> and <span class="math notranslate nohighlight">\(\mathbf{w_{r} \in \mathbb{R}^{d}}\)</span>. I is the identity matrix.
The scoring function for TransD is defined as</p>
<p><span class="math notranslate nohighlight">\(f_{r}(h,t) = -||h_{\bot} + \mathbf{r} - t_{\bot}||\)</span></p>
<p><span class="math notranslate nohighlight">\(h_{\bot} = (\mathbf{w_{r}}\mathbf{w_{h}^{T}} + I^{d \times k})\,\mathbf{h}\)</span></p>
<p><span class="math notranslate nohighlight">\(t_{\bot} = (\mathbf{w_{r}}\mathbf{w_{t}^{T}} + I^{d \times k})\,\mathbf{t}\)</span></p>
<p>TransD imposes contraints like <span class="math notranslate nohighlight">\(||\mathbf{h}||_{2} \leq 1, ||\mathbf{t}||_{2} \leq 1, ||\mathbf{r}||_{2} \leq 1, ||h_{\bot}||_{2} \leq 1\)</span> and <span class="math notranslate nohighlight">\(||t_{\bot}||_{2} \leq 1\)</span></p>
<dl class="py method">
<dt class="sig sig-object py" id="TransD.TransD.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ent_total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_total</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim_r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#TransD.TransD.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ent_total</strong> (<em>int</em>) – Total number of entities</p></li>
<li><p><strong>rel_total</strong> (<em>int</em>) – Total number of relations</p></li>
<li><p><strong>dim_e</strong> (<em>int</em>) – Number of dimensions for entity embeddings</p></li>
<li><p><strong>dim_r</strong> (<em>int</em>) – Number of dimensions for relation embeddings</p></li>
<li><p><strong>norm</strong> (<em>int</em>) – L1 or L2 norm. Default: 2</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TransD.TransD.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#TransD.TransD.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the scores for the given batch of triples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Tensor</em>) – Tensor containing the batch of triples for which scores are to be calculated</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tensor containing the scores for each triple</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>score (Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TransD.TransD.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TransD.TransD.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement normalizations for parameters of the model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TransD.TransD.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#TransD.TransD.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the scores for a given batch of triples during evaluation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Tensor</em>) – Tensor containing the batch of triples for which scores are to be calculated</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tensor containing the scores for each triple</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>score (Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="TransD.TransD.training">
<span class="sig-name descname"><span class="pre">training</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#TransD.TransD.training" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="TransE.html" class="btn btn-neutral float-right" title="TransE module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="SimplE.html" class="btn btn-neutral float-left" title="SimplE module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Carlos R Rivero and Narayanan Asuri Krishnan.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>